(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0f34"],{"9f0a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("page-scroll",{attrs:{footer:!1},scopedSlots:t._u([{key:"header",fn:function(){return[e("glTitle",{attrs:{"show-service":"",title:t.$t("page.doc105")}})]},proxy:!0},{key:"content",fn:function(){return[e("van-notice-bar",{attrs:{wrapable:"",scrollable:!1,color:"#ff7300",background:"rgba(255, 115, 0, 0.05)"}},[t._v(" "+t._s(t.$t("page4.doc117"))+" ")]),e("div",{staticClass:"page-auth-container tw-p-20px"},[e("div",{staticClass:"tw-mb-10px tw-text-14px"},[t._v(t._s(t.$t("page.doc110")))]),e("FocusedField",{attrs:{type:"tel",placeholder:t.$t("page.doc79")},scopedSlots:t._u([{key:"left-icon",fn:function(){return[e("div",{staticClass:"tw-flex tw-items-center",on:{click:function(e){t.isShowArea=!0}}},[e("span",{staticClass:"tw-pr-4px"},[t._v("+"+t._s(t.areaId))]),e("van-icon",{attrs:{name:t.isShowArea?"arrow-up":"arrow-down"}})],1)]},proxy:!0}]),model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),e("div",{staticClass:"tw-mt-16px tw-mb-10px tw-text-14px"},[t._v(" "+t._s(t.$t("page4.doc114"))+" ")]),e("FocusedField",{attrs:{type:t.isShowPassword?"text":"password",placeholder:t.$t("page.doc85")},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{class:t.isShowPassword?"tw-text-primary":"tw-text-secondary",attrs:{name:t.isShowPassword?"eye":"closed-eye"},on:{click:function(e){t.isShowPassword=!t.isShowPassword}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticClass:"tw-mt-16px tw-mb-10px tw-text-14px"},[t._v(" "+t._s(t.$t("page.doc113"))+" ")]),e("FocusedField",{attrs:{type:t.isShowRepeatPassword?"text":"password",placeholder:t.$t("page.doc85")},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{class:t.isShowRepeatPassword?"tw-text-primary":"tw-text-secondary",attrs:{name:t.isShowRepeatPassword?"eye":"closed-eye"},on:{click:function(e){t.isShowRepeatPassword=!t.isShowRepeatPassword}}})]},proxy:!0}]),model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}}),e("div",{staticClass:"tw-mt-16px tw-mb-10px tw-text-14px"},[t._v(" "+t._s(t.$t("page.doc111"))+" ")]),e("FocusedField",{attrs:{type:"text",placeholder:t.$t("page.doc80")},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("div",{staticClass:"tw-mt-16px tw-mb-10px tw-text-14px"},[t._v(" "+t._s(t.$t("page.doc115"))+" ")]),e("verify-code-field",{staticClass:"tw-rounded-10px tw-p-20px",attrs:{codeType:6,target:t.email},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}}),e("div",{staticClass:"tw-mt-24px"},[e("van-button",{attrs:{type:"primary",size:"large",loading:t.isBtnLoading},on:{click:t.onConfirm}},[t._v(" "+t._s(t.$t("page.doc36"))+" ")])],1)],1),e("van-popup",{attrs:{position:"bottom",round:"",closeable:"","get-container":"body"},model:{value:t.isShowArea,callback:function(e){t.isShowArea=e},expression:"isShowArea"}},[e("div",{staticClass:"tw-p-16px tw-overflow-hidden"},[e("div",{staticClass:"tw-text-center tw-text-16px"},[t._v(" "+t._s(t.$t("page.doc91"))+" ")]),e("van-field",{attrs:{type:"text",placeholder:t.$t("page.doc92"),clearable:""},scopedSlots:t._u([{key:"left-icon",fn:function(){return[e("van-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.searchAreaId,callback:function(e){t.searchAreaId=e},expression:"searchAreaId"}}),e("ul",{staticClass:"tw-h-32 tw-overflow-y-auto"},t._l(t.searchResult,(function(s){return e("li",{key:s.mobilePrefix,staticClass:"tw-h-42px tw-flex tw-items-center",on:{click:function(e){return t.onSetAreaId(s.mobilePrefix)}}},[e("div",{staticClass:"tw-w-24px tw-h-24px"},[e("img",{attrs:{src:s.iconUrl,alt:""}})]),e("div",{staticClass:"tw-h-full tw-flex-1 tw-flex tw-items-center van-hairline--bottom"},[t._v(" "+t._s(s.name)+"ï¼ˆ+"+t._s(s.mobilePrefix)+"ï¼‰ ")])])})),0)],1)])]},proxy:!0}])})},o=[],i=(s("14d9"),s("2f62"));const r=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;var d={data(){return{cid:0,email:"",verifyCode:"",areaId:"01",mobile:"",code:"",googleCode:"",password:"",isShowPassword:!1,repeatPassword:"",isShowRepeatPassword:!1,isShowArea:!1,areaData:[],searchAreaId:"",pwTxt:"",isDisable:!1,isBtnLoading:!1}},computed:{...Object(i["d"])(["userData"]),searchResult(){return""!=this.searchAreaId?this.areaData.filter(t=>t.mobilePrefix.indexOf(this.searchAreaId)>-1):this.areaData}},mounted(){localStorage.getItem("mobile")&&(this.mobile=localStorage.getItem("mobile")),localStorage.getItem("areaId")&&(this.areaId=localStorage.getItem("areaId")),this.getArea(),0==this.$route.query.id&&(this.title=this.$t("page.doc206"),document.title=this.$t("page.doc206"),this.areaId=this.userData.mobilePrefix,this.mobile=this.userData.mobile,this.cid=1,this.mobile=this.userData.email)},methods:{onSetAreaId(t){this.areaId=t,this.isShowArea=!1},getArea(){this.$post(this.URL.user.country_list,{}).then(t=>{0==t.code?(this.areaData=t.data,this.areaId=t.data[0].mobilePrefix):this.$toast(t.message)})},onConfirm(){if(0==this.$route.query.id){let t=new RegExp(/^\d{6}$/);if(""==this.password)return void this.$toast(this.$t("page.doc39"));if(this.password&&!t.test(this.password))return void this.$toast(this.$t("page.doc208"))}else{let t=new RegExp(r);if(!t.test(this.password))return void this.$toast(this.$t("page.doc100"))}if(this.password!=this.repeatPassword)return void this.$toast(this.$t("page.doc101"));if(!this.email)return void this.$toast(this.$t("page.doc80"));if(!this.verifyCode)return void this.$toast(this.$t("page.doc197"));if(this.isBtnLoading)return;this.isBtnLoading=!0;let t=[];if(0==this.$route.query.id){if(""==this.code)return void this.$toast(this.$t("page.doc197"));var e=this.URL.user.jymm;t={verifyType:0,accountType:this.cid,prefix:this.areaId,account:this.mobile,googleCode:this.googleCode,password:this.$md5(this.password),code:this.verifyCode,email:this.email}}else{e=this.URL.user.forget;t={accountType:1,prefix:this.areaId,account:this.email,mobilePrefix:this.areaId,mobile:this.mobile,code:this.verifyCode,codeType:2,password:this.$md5(this.password)}}this.$post(e,t).then(t=>{0==t.code?(this.$toast.success(t.message),0==this.$route.query.id?this.onOpenLink("/my/index"):this.onOpenLink("/user/login")):this.$toast(t.message)}).finally(()=>{this.isBtnLoading=!1})},onOpenLink(t,e){"/my/kf"!=t?(1==e&&(localStorage.setItem("mobile",this.mobile),localStorage.setItem("areaId",this.areaId)),this.$router.push({path:t,query:{}})):this.$post(this.URL.home.config_group,{}).then(t=>{if(0==t.code){let e=t.data;e.map(t=>{"CUSTOMER_SERVICE_LINK"==t.tag&&t.url&&(window.location.href=t.url)})}})}}},l=d,c=s("2877"),n=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=n.exports}}]);