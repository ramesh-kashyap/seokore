(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6de1bc62"],{"0416":function(t,e,a){},"0be0":function(t,e,a){"use strict";a("84c5")},"54cb":function(t,e,a){"use strict";a("9846")},"7ffa":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("page-scroll",{attrs:{footer:!1,"bg-color":"#1a1c1e"},scopedSlots:t._u([{key:"header",fn:function(){return[e("glTitle",{attrs:{title:t.title,theme:"light"}})]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticClass:"content_box"},[e("div",{staticClass:"info_box"},[e("div",{staticClass:"left"},[e("div",{staticClass:"text"},[t._v(t._s(t.$t("page4.doc1")))]),e("div",{staticClass:"num"},[t._v(" "+t._s(t._f("capitalize")(t.usdtinfo?t.usdtinfo.price:0))+" ")]),e("div",{staticClass:"percentage"},[t._v(" "+t._s(t.usdtinfo?t.usdtinfo.change:0)+" ")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"info_list"},[e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("page4.doc2")))]),e("div",{staticClass:"text"},[t._v(" "+t._s(t._f("capitalize")(t.usdtinfo?t.usdtinfo.high:0))+" ")])]),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("page4.doc3")))]),e("div",{staticClass:"text"},[t._v(" "+t._s(t._f("capitalize")(t.usdtinfo?t.usdtinfo.low:0))+" ")])])]),e("div",{staticClass:"info_list"},[e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("page4.doc4")))]),e("div",{staticClass:"text"},[t._v(" "+t._s(t._f("capitalize")(t.usdtinfo?t.usdtinfo.open:0))+" ")])]),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("page4.doc5")))]),e("div",{staticClass:"text"},[t._v(" "+t._s(t._f("capitalize")(t.usdtinfo?t.usdtinfo.amount:0))+" ")])])])])]),e("div",{staticClass:"line-time"},t._l(t.timerLine,(function(a,i){return e("div",{key:a.id,class:{timeact:t.timeAct==i},on:{click:function(e){return t.handlerLine(i)}}},[t._v(" "+t._s(a.name)+" ")])})),0),e("my_kline",{attrs:{KLineData:t.KLineData,showBottomCanvas:!1}})],1)]},proxy:!0}])})},s=[],o=(a("14d9"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"head"},[e("div",{ref:"rem",attrs:{id:"rem"}}),e("div",{staticClass:"charts-border"},[e("div",{ref:"kline_charts",staticClass:"charts",attrs:{id:"kline_charts"}}),e("div",{staticClass:"charts-label"},[e("div",{staticClass:"charts-MA5"},[t._v("MA5:"+t._s(t.MA5||0))]),e("div",{staticClass:"charts-MA10"},[t._v("MA10:"+t._s(t.MA10||0))]),e("div",{staticClass:"charts-MA30"},[t._v("MA30:"+t._s(t.MA30||0))])])])])}),n=[],r={data(){return{MA5:"",MA10:"",MA30:"",volMA5:"",volMA10:"",current:1,tabs:[{label:"1åˆ†é’Ÿ",value:1},{label:"15åˆ†é’Ÿ",value:2},{label:"30åˆ†é’Ÿ",value:3},{label:"1å°æ—¶",value:4},{label:"4å°æ—¶",value:5},{label:"1å¤©",value:6}],category:1,categoryList:[{label:"æ·±åº¦",value:1},{label:"æˆäº¤",value:2},{label:"ç®€ä»‹",value:3}],buyList:[],sellList:[],tokenInfo:{},page:1,myChart:null}},methods:{getKline(){let t=this.calculateMA(5,this.data1),e=this.calculateMA(10,this.data1),a=this.calculateMA(30,this.data1),i=(this.calculateMA(5,this.volumes),this.calculateMA(10,this.volumes),{xAxis:[{data:this.dates}],series:[{name:"æ—¥K",data:this.data1},{name:"MA5",data:t},{name:"MA10",data:e},{name:"MA30",data:a}]});this.showBottomCanvas&&(i=this.addBottomData1(i)),this.myChart.setOption(i)},addItem(t,e){t=t||[];let a=20-t.length;if(a>0)for(let i=0;i<a;i++)1==e?t.unshift({}):t.push({});return t},getDepth(){this.buyList=this.addItem(this.depthList.buyList||[]),this.sellList=this.addItem(this.depthList.sellList||[])},getTokenInfo(){this.tokenInfo=this.tokenInfo},switchTab(t){this.current!=t&&(this.current=t,this.getKline())},switchCategory(t){this.category!=t&&(this.category=t,1==this.category?this.getDepth():2==this.category?this.getDealHis():this.getTokenInfo())},formatterNum(t,e){let a=new RegExp("^\\d+(?:\\.\\d{0,"+e+"})?");return t.toString().match(a)},calculateMA(t,e){let a=[];for(let i=0,s=e.length;i<s;i++){if(i<t){a.push("-");continue}let s=0;for(let a=0;a<t;a++)s+=e[i-a][1];a.push((s/t).toFixed(8))}return a},draw(){let t=this,e="#03ad91",a="#dd345b",i=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],s={backgroundColor:"#1a1c1e",title:{show:!1},legend:{show:!1},visualMap:{show:!1,seriesIndex:4,dimension:2,pieces:[{value:1,color:a},{value:-1,color:e}]},grid:[{top:"5%",left:t.pxTurnRem(20),right:t.pxTurnRem(50),height:t.showBottomCanvas?"70%":"88%"}],axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#0d1723",color:"#fff",borderColor:"rgb(99, 117, 139)",borderWidth:t.pxTurnRem(1),borderRadius:t.pxTurnRem(2),fontSize:t.pxTurnRem(10)}},xAxis:[{type:"category",data:[],scale:!0,boundaryGap:!1,axisLine:{show:!this.showBottomCanvas},axisTick:{show:!this.showBottomCanvas},axisLabel:{show:!this.showBottomCanvas,margin:t.pxTurnRem(10),fontSize:t.pxTurnRem(10),color:"rgba(99, 117, 139, 1.0)",formatter:function(e){return t.echarts.format.formatTime("MM-dd hh:mm",e)}},splitLine:{show:!1,lineStyle:{color:"rgba(255,255,255, 0.1)"}},min:"dataMin",max:"dataMax",axisPointer:{label:{margin:t.pxTurnRem(200)}}}],yAxis:[{type:"value",position:"right",scale:!0,offset:t.pxTurnRem(40),axisLine:{show:!0},axisTick:{show:!0,inside:!0},axisLabel:{show:!0,color:"rgba(99, 117, 139, 1.0)",inside:!0,fontSize:t.pxTurnRem(10),formatter:function(e){return t.toFixed(e,8)}},splitLine:{show:!1,lineStyle:{color:"rgba(255,255,255, 0.1)"}}}],animation:!1,color:i,tooltip:{show:!0,trigger:"axis",formatter(e){let a="",i="",s=0,o=0,n=0,r=0,l=0;for(let c=0;c<e.length;c++)"æ—¥K"===e[c].seriesName&&(i=e[c].name,s=e[c].data.length>1?Number(t.formatterNum(e[c].data[1],8)):0,r=e[c].data.length>1?Number(t.formatterNum(e[c].data[2],8)):0,n=e[c].data.length>1?Number(t.formatterNum(e[c].data[3],8)):0,o=e[c].data.length>1?Number(t.formatterNum(e[c].data[4],8)):0,l=e[c].data.length>1?Number(t.formatterNum(e[c].data[5],8)):0,a='<div class="charts-tooltip"><div class="charts-tooltip-row"><div class="ctr-label">'+t.$t("kLine.doc1")+'</div><div class="ctr-value">'+i+'</div></div><div class="charts-tooltip-row"><div class="ctr-label">'+t.$t("kLine.doc2")+'</div><div class="ctr-value">'+s+'</div></div><div class="charts-tooltip-row"><div class="ctr-label">'+t.$t("kLine.doc3")+'</div><div class="ctr-value">'+o+'</div></div><div class="charts-tooltip-row"><div class="ctr-label">'+t.$t("kLine.doc4")+'</div><div class="ctr-value">'+n+'</div></div><div class="charts-tooltip-row"><div class="ctr-label">'+t.$t("kLine.doc5")+'</div><div class="ctr-value">'+r+"</div></div></div>"),"MA5"===e[c].seriesName&&(t.MA5="NAN"!==e[c].data?Number(t.formatterNum(e[c].data,8)):0),"MA10"===e[c].seriesName&&(t.MA10="NAN"!==e[c].data?Number(t.formatterNum(e[c].data,8)):0),"MA30"===e[c].seriesName&&(t.MA30="NAN"!==e[c].data?Number(t.formatterNum(e[c].data,8)):0),"VolumeMA5"===e[c].seriesName&&(t.volMA5="NAN"!==e[c].data?Number(t.formatterNum(e[c].data,8)):0),"VolumeMA10"===e[c].seriesName&&(t.volMA10="NAN"!==e[c].data?Number(t.formatterNum(e[c].data,8)):0);return a},triggerOn:"click",textStyle:{fontSize:t.pxTurnRem(10)},backgroundColor:"rgba(30,42,66,0.8);",borderColor:"#2f3a56",borderWidth:t.pxTurnRem(2),position:function(e,a,i,s,o){let n={top:t.pxTurnRem(20)};return n[["left","right"][+(e[0]<o.viewSize[0]/2)]]=10,n},axisPointer:{label:{color:"rgba(255,255,255,.87)",fontSize:t.pxTurnRem(9),backgroundColor:"#020204",borderColor:"#9c9fa4",shadowBlur:0,borderWidth:t.pxTurnRem(.5),padding:[t.pxTurnRem(4),t.pxTurnRem(2),t.pxTurnRem(3),t.pxTurnRem(2)]},animation:!1,type:"cross",lineStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(30, 42, 66, 0.1)"},{offset:t.pxTurnRem(.7),color:"rgba(30, 42, 66,0.9)"},{offset:t.pxTurnRem(1),color:"rgba(30, 42, 66,0.2)"}]},width:t.pxTurnRem(10),shadowColor:"rgba(30, 42, 66,0.7)",shadowBlur:0,shadowOffsetY:t.pxTurnRem(68)}}},dataZoom:[{type:"inside",xAxisIndex:[0],realtime:!1,start:t.start,end:100}],series:[{type:"candlestick",name:"æ—¥K",data:[],itemStyle:{color:e,color0:a,borderColor:e,borderColor0:a},markPoint:{symbol:"rect",symbolSize:[-t.pxTurnRem(10),t.pxTurnRem(.5)],symbolOffset:[t.pxTurnRem(5),0],itemStyle:{color:"rgba(255,255,255,.87)"},label:{color:"rgba(255,255,255,.87)",offset:[t.pxTurnRem(10),0],fontSize:t.pxTurnRem(10),align:"left",formatter:function(e){return t.toFixed(e.value,8)}},data:[{name:"max",type:"max",valueDim:"highest"},{name:"min",type:"min",valueDim:"lowest"}]}},{name:"MA5",type:"line",data:[],symbol:"none",smooth:!0,lineStyle:{normal:{opacity:1,width:1,color:"#eef4ba"}},z:5},{name:"MA10",type:"line",data:[],symbol:"none",smooth:!0,lineStyle:{normal:{opacity:1,width:1,color:"#83c1c5"}},z:4},{name:"MA30",type:"line",data:[],symbol:"none",smooth:!0,lineStyle:{normal:{opacity:1,width:1,color:"#b39cd8"}},z:3}]};this.showBottomCanvas&&(s=this.addBottomData(s)),this.myChart.setOption(s),this.myChart.on("datazoom",(function(t){t.batch[0]["start"]})),window.addEventListener("resize",()=>{this.myChart.resize()})},addBottomData(t){let e=this;return t.grid[1]={top:"80%",left:e.pxTurnRem(20),right:e.pxTurnRem(50),height:"15%"},t.xAxis[1]={type:"category",gridIndex:1,data:[],scale:!0,boundaryGap:!1,axisLine:{show:!1,lineStyle:{color:"rgba(255,255,255,1)",width:1}},axisTick:{show:!1},axisLabel:{show:!0,margin:6,fontSize:10,color:"rgba(99, 117, 139, 1.0)",formatter:function(t){return e.echarts.format.formatTime("MM-dd hh:mm",t)}},splitNumber:20,splitLine:{show:!1,lineStyle:{color:"rgba(255,255,255, 0.1)"}},min:"dataMin",max:"dataMax"},t.yAxis[1]={type:"value",position:"right",scale:!0,gridIndex:1,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},t.dataZoom[0].xAxisIndex=[0,1],t.series.push({name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:[]},{name:"VolumeMA5",type:"line",xAxisIndex:1,yAxisIndex:1,data:[],symbol:"none",smooth:!0,lineStyle:{normal:{opacity:1,width:1,color:"#eef4ba"}},z:5},{name:"VolumeMA10",type:"line",xAxisIndex:1,yAxisIndex:1,data:[],symbol:"none",smooth:!0,lineStyle:{normal:{opacity:1,width:1,color:"#83c1c5"}},z:4}),t},addBottomData1(t){let e=this.calculateMA(5,this.volumes),a=this.calculateMA(10,this.volumes);return t.xAxis[1]={data:this.dates},t.series.push({name:"Volume",data:this.volumes},{name:"VolumeMA5",data:e},{name:"VolumeMA10",data:a}),t}}},l={data(){return{txData:{lastPrice:8.944,upRate:"-79.67%",upFlag:"2",volume:3,high:11.922,low:8.944},tokenInfo:{tokenName:"XXX",issueDate:"2020-06-15",totalSupply:"1000000000",nowSupply:"--",price:"--",whitePaper:"--",webSite:"--",exploereSite:"--",remark:"--"}}},methods:{sum(t,e){let a=Math.floor(Math.random()*(t-e)+e);return a}},computed:{dates(){return this.rawData.map((function(t){return t[0]}))},data1(){return this.rawData.map((function(t){return[+t[1],+t[2],+t[3],+t[4],+t[5]]}))},volumes(){return this.rawData.map((function(t,e){return[e,t[5],t[1]>t[2]?1:-1]}))},depthList(){let t={buyList:[],sellList:[]};for(let e=0;e<20;e++)t.buyList.push({price:.988,amount:12,width:this.sum(1,100)}),t.sellList.push({price:.252,amount:15,width:this.sum(1,100)});return t},dealHis(){let t=[];for(let e=0;e<20;e++)t.push({date:"07-22 16:27:44",takerFlag:"1",price:44,amount:444});return t}}},c=a("cf45"),d=a("313e"),h={mixins:[r,l],props:["KLineData","showBottomCanvas"],data(){return{echarts:d,rawData:[["2004-01-05 20:30",.008545684,.0007123155,.001321785,.009105752,22129e4]],oneRem:50,start:null,showCount:37}},mounted(){let t=this.$refs.rem;this.oneRem=t.clientWidth},methods:{pxTurnRem(t){return c["a"].accMul(c["a"].accDiv(t,50),this.oneRem)},countDecimalPlaces(t){var e;return Math.floor(t)===t?0:(null===(e=t.toString().split(".")[1])||void 0===e?void 0:e.length)||0},toFixed(t,e=4){let a=this.countDecimalPlaces(t);return e=e>a?a:e,parseFloat(t).toFixed(e)}},watch:{KLineData(t){if((null===t||void 0===t?void 0:t.length)>=20){let e=t.length;e<=this.showCount?this.start=0:this.start=100*c["a"].accSub(1,c["a"].accDiv(this.showCount,e)),this.rawData=[...t];let a=this.$refs.kline_charts;this.myChart=this.echarts.init(a),this.draw(),this.getKline()}}}},m=h,u=(a("94c2"),a("54cb"),a("2877")),p=Object(u["a"])(m,o,n,!1,null,"a83b7a22",null),f=p.exports,g={components:{My_kline:f},data(){return{title:"",KLineData:[],showBottomCanvas:!0,usdtlinename:null,topInfoName:null,topInfoNames:null,usdtinfo:{},infoList:[],timeAct:0,timerLine:[{id:"1min",name:this.$t("page4.doc6")},{id:"5min",name:this.$t("page4.doc7")},{id:"15min",name:this.$t("page4.doc8")},{id:"30min",name:this.$t("page4.doc9")},{id:"1hour",name:this.$t("page4.doc10")},{id:"1day",name:this.$t("page4.doc11")},{id:"1week",name:this.$t("page4.doc12")}],times:"1min",sockets:null,socket:null,KLineDataList:[],lastTime:""}},filters:{capitalize(t){return t?parseFloat(t).toFixed(2):""}},mounted(){this.init(),this.usdtinfoData(this.times),this.getKlineData(this.times)},methods:{init(){let{buyCoinName:t,sellCoinName:e}=this.$route.query;this.title=`${t}/${e}`,this.klineData(this.times),this.$post(this.URL.home.klineInfo,{buyCoinName:this.$route.query.buyCoinName,sellCoinName:this.$route.query.sellCoinName}).then(t=>{0==t.code?this.usdtinfo=t.data:this.$toast(t.message)})},klineData(t){this.$post(this.URL.home.klineData,{buyCoinName:this.$route.query.buyCoinName,sellCoinName:this.$route.query.sellCoinName,type:t}).then(t=>{if(0==t.code){let e=t.data;this.KLineDataList=[];let a=[],i=[];e.length>20&&e.forEach((t,e)=>{let s=this.getDate(t.timestamp);a.unshift([s,t.open,t.close,t.low,t.high,t.amount]),i.unshift(t)}),this.KLineData=a,this.KLineDataList=i}else this.$toast(t.message)})},handlerLine(t){let e=this.timerLine[t].id;""==e&&(e=this.timerLine[1].id),this.timeAct=t,this.socket.close(),this.klineData(e),this.getKlineData(e)},getKlineData(t){let e=this;if("WebSocket"in window){let a="wss://seokore-test-ws.testtwo.top/ws";a="wss://api.seokore.com/ws",this.socket=new WebSocket(a);let i=this.$route.query.buyCoinName+"/"+this.$route.query.sellCoinName,s=t;this.topInfoName=`market_kline_${i}_${s}`,this.socket.onopen=()=>{this.socket.send("start:topic="+this.topInfoName)},this.socket.onmessage=t=>{let a=JSON.parse(t.data),i=a.data;if(e.KLineDataList.length>0&&i){let t=e.getDate(i.timestamp),a=e.KLineDataList.length,s=e.KLineDataList[a-1].timestamp,o=i.timestamp;s==o&&(e.$set(e.KLineData,a-1,[t.toString(),i.open.toString(),i.close.toString(),i.low.toString(),i.high.toString(),i.amount.toString()]),e.$set(e.KLineDataList,a-1,i)),o>s&&(e.KLineData.push([t.toString(),i.open.toString(),i.close.toString(),i.low.toString(),i.high.toString(),i.amount.toString()]),e.KLineDataList.push(i))}},this.socket.onclose=()=>{console.warn("webSocket å…³é—­")},this.socket.onerror=()=>{console.warn("webSocket é”™è¯¯")}}},usdtinfoData(){if("WebSocket"in window){this.sockets=new WebSocket("wss://icoingo-test-ws.testone.top/ws");let t=this.$route.query.buyCoinName+"/"+this.$route.query.sellCoinName;this.topInfoNames="market_info_"+t,this.sockets.onopen=()=>{this.sockets.send("start:topic="+this.topInfoNames)},this.sockets.onmessage=t=>{let e=JSON.parse(t.data);this.usdtinfo=e.data},this.sockets.onclose=()=>{console.warn("webSocket å…³é—­")},this.sockets.onerror=()=>{console.warn("webSocket é”™è¯¯")}}},getDate(t){const e=new Date(t),a=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=`${a}-${i}-${s} ${o}:${n}`;return r}},computed:{},watch:{}},v=g,b=(a("0be0"),Object(u["a"])(v,i,s,!1,null,"91d17b12",null));e["default"]=b.exports},"84c5":function(t,e,a){},"94c2":function(t,e,a){"use strict";a("0416")},9846:function(t,e,a){}}]);