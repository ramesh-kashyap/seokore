(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02c8c6ba"],{2357:function(t,e,a){},b59c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("page-scroll",{attrs:{footer:!1},scopedSlots:t._u([{key:"header",fn:function(){return[e("glTitle",{attrs:{title:t.title}})]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticClass:"tw-min-h-full tw-p-16px tw-flex tw-flex-col tw-justify-between"},[e("div",{staticClass:"tw-flex-1"},[e("div",{staticClass:"tw-mt-32px tw-mb-20px tw-flex tw-justify-center"},[e("div",{staticClass:"tw-relative tw-w-100px tw-h-100px tw-flex tw-justify-center tw-items-center tw-rounded-full tw-border-2 tw-border-primary",on:{change:function(e){return t.changeImage(e)}}},[e("img",{staticClass:"tw-w-80px tw-h-80px tw-rounded-full",attrs:{src:t.userData.avatar,alt:""}}),e("div",{staticClass:"tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-opacity-0"},[e("input",{staticClass:"tw-w-full tw-h-full tw-opacity-0",attrs:{type:"file",accept:"image/*"},on:{change:t.handleAfterRead}})]),e("div",{staticClass:"tw-absolute tw-bottom-0 tw-right-0"},[e("svg-icon",{attrs:{name:"edit",color:"#fff",size:"28"}})],1)])]),e("van-field",{staticClass:"tw-mb-16px tw-rounded-10px",attrs:{label:t.$t("page.doc180"),placeholder:t.userData.nickname,"input-align":"right",size:"large"},model:{value:t.userData.nickname,callback:function(e){t.$set(t.userData,"nickname",e)},expression:"userData.nickname"}}),e("van-field",{staticClass:"tw-mb-16px tw-rounded-10px",attrs:{label:t.$t("page.doc165"),placeholder:t.userData.nickname,"input-align":"right",size:"large"},scopedSlots:t._u([{key:"input",fn:function(){return[e("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.userData.gender,callback:function(e){t.$set(t.userData,"gender",e)},expression:"userData.gender"}},[e("van-radio",{attrs:{name:"0"},scopedSlots:t._u([{key:"icon",fn:function(a){return[e("div",{staticClass:"tw-flex tw-items-center tw-text-14px"},[e("span",{staticClass:"tw-pr-4px"},[t._v(t._s(t.$t("page.doc166")))]),e("svg-icon",{attrs:{name:"male",color:a.checked?"#1772F8":"#EAEEF5"}})],1)]}}])}),e("van-radio",{attrs:{name:"1"},scopedSlots:t._u([{key:"icon",fn:function(a){return[e("div",{staticClass:"tw-flex tw-items-center tw-text-14px"},[e("span",{staticClass:"tw-pr-4px"},[t._v(t._s(t.$t("page.doc167")))]),e("svg-icon",{attrs:{name:"female",color:a.checked?"#FF0000":"#EAEEF5"}})],1)]}}])})],1)]},proxy:!0}]),model:{value:t.userData.nickname,callback:function(e){t.$set(t.userData,"nickname",e)},expression:"userData.nickname"}}),e("van-field",{staticClass:"tw-mb-16px tw-rounded-10px",attrs:{label:t.$t("page.doc181"),value:t.userData.mobilePrefix+t.userData.mobile||null,placeholder:t.userData.mobilePrefix+t.userData.mobile||null,readonly:"","input-align":"right",size:"large"}})],1),e("van-button",{attrs:{type:"primary",block:""},on:{click:t.user_up}},[t._v(" "+t._s(t.$t("page.doc188"))+" ")])],1)]},proxy:!0}])})},i=[],n=(a("14d9"),a("2f62")),r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"1.4rem"}},[e("div",{staticClass:"big_btn_box"},[e("div",{staticClass:"btn_box",on:{click:function(e){return t.$emit("clickBtn")}}},[e("button",{staticClass:"btn",class:{on:t.isOn}},[t._v(t._s(t.btnText))])])])])},o=[],l={props:["btnText","isOn"],data(){return{}}},c=l,u=(a("c472"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"49eaad67",null),p=d.exports,h={components:{BtnBottom:p},data(){return{title:this.$t("title.doc22"),avatar:"../../public/images/ico_photo2.png",files:"",userData:{nickname:"",gender:"1"}}},mounted(){this.$post(this.URL.member.profile,{}).then(t=>{0==t.code?(this.userData=t.data,this.userData.gender=t.data.gender+""):this.$toast(t.message)}),this.getUserData()},methods:{...Object(n["b"])(["getUserData"]),async handleAfterRead(t){const e=await this.common.compressor(t,{maxWidth:700,maxHeight:700}).catch(t=>{this.$toast(t)});this.$post(this.URL.user.upimg,{file:e},{isUpload:!0}).then(t=>{0==t.code?this.userData.avatar=t.data.url:this.$toast(t.message)})},changeImage(t){const e=t.target.files[0],a=new FileReader,s=this;a.readAsDataURL(e),a.onload=function(){s.userData.avatar=this.result}},afterRead(t){this.files=t,this.$post(this.URL.user.upimg,t,{isUpload:!0}).then(t=>{0==t.code?this.userData.avatar=t.data.url:this.$toast(t.message)})},user_up(){this.$post(this.URL.member.infoUp,this.userData).then(t=>{0==t.code?(this.getUserData(),this.$toast.success(this.$t("page.doc189")),this.$store.dispatch("getUserData"),this.$router.push("/my/index")):this.$toast(t.message)})},onOpenLink(t,e){1!=e&&0!=e&&this.$router.push({path:t,query:{}})}}},f=h,m=Object(u["a"])(f,s,i,!1,null,null,null);e["default"]=m.exports},c472:function(t,e,a){"use strict";a("2357")}}]);